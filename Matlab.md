# **MATLAB学习笔记**

# **目录：**

**1. 基本操作与矩阵输入**

















## **一、 基本操作与矩阵输入：**

### **1、界面介绍：**

![](https://cdn.jsdelivr.net/gh/KKMJJ0721/Blog_pic/202509202100995.jpg)

打开MATLAB，主要会有以下几个区域。如果窗口消失可以点击**主页->布局->默认**，来恢复

| 序号 | 名称       | 功能               |
| ---- | ---------- | ------------------ |
| ①    | 菜单栏     |                    |
| ②    | 当前文件夹 | 即工作空间路径     |
| ③    | 编辑器     | 可以进行脚本编辑   |
| ④    | 命令行窗口 | 敲命令的地方       |
| ⑤    | 工作区     | 可以查看执行的变量 |







### **2、MATLAB语言基础：**

#### **2.1数据类型：**

![](https://cdn.jsdelivr.net/gh/KKMJJ0721/Blog_pic/202509202126025.png)

**1 整型**
  这个学过C语言的很好理解，无符号就是不带负数，后面的数字就是位数；
**2 浮点型**
  与C语言一样，有单精度float与双精度double之分，单精度在内存中占4个字节，双精度占8个字节；
**3 常量与变量**
  常量是程序语句中取不变值的那些量，变量是在程序运行中其值可以改变的量。常用预定义变量：

![](https://cdn.jsdelivr.net/gh/KKMJJ0721/Blog_pic/202509202131329.png)

**4 字符串**

​		字符串是用**单引号**括起来的字符序列，MATLAB将字符串当作一个行向量，每个元素对应一个字符。注意，如果字符串里有单引号则需要两个单引号表示。

```matlab
% 创建包含单引号的字符串
str = 'I''m learning MATLAB.';  
disp(str);  % 输出：I'm learning MATLAB.
length(str);  % 统计字符个数，结果为 20（逐个字符：I'm learning MATLAB.）
```





#### **2.2、MATLAB运算：**

##### **2.2.1、算数运算：**

![](https://cdn.jsdelivr.net/gh/KKMJJ0721/Blog_pic/202509202149436.png)



##### **2.2.2、关系运算：**

![](https://cdn.jsdelivr.net/gh/KKMJJ0721/Blog_pic/202509202148266.png)



##### **2.2.3、逻辑运算：**

![](https://cdn.jsdelivr.net/gh/KKMJJ0721/Blog_pic/202509202150389.png)





#### **2.3、常用内部函数：**

​		函数最一般的引用格式是：**函数名(参数 1，参数 2，…)**

##### **2.3.1、常用科学函数：**

![](https://cdn.jsdelivr.net/gh/KKMJJ0721/Blog_pic/202509202153500.png)

> **注：**
>
> ​	**此处ln函数错误，正确写法为 log，表示为求已e为底的对数**
>
> ​	**直接使用exp不能表示自然对数，必须要在后面加上括号并在里面写上数字；如：**
>
> ```matlab
> exp(1)      % 表示e
> exp(2) 		% 表示e的平方
> ```



##### **2.3.2、关系运算函数：**

![](https://cdn.jsdelivr.net/gh/KKMJJ0721/Blog_pic/202509202155912.png)

> **附：可打开该网页进行查看一些数学函数（也可查看上面的图片，但不全）**
>
> **[数学 — 函数](https://ww2.mathworks.cn/help/matlab/referencelist.html?type=function&s_tid=CRUX_topnav&category=mathematics)**



#### **2.4、结构数据与单元数据：**

##### **2.4.1、结构数据：**

​		结构数据类型把一组类型不同而逻辑上相关的数据组成一个有机的整体，类似C语言结构体，相关函数如下：

![](https://cdn.jsdelivr.net/gh/KKMJJ0721/Blog_pic/202509202157846.png)



##### **2.4.2、单元数据：**

​		与结构数据类似，不同的是结构矩阵各个元素下有成员，每个成员有自己的名字（很像）

![](https://cdn.jsdelivr.net/gh/KKMJJ0721/Blog_pic/202509202159415.png)





### **3、Command line（in command window）（命令行编程）：**

#### **3.1、命令行交互式命令操作：**

​		命令行以`Enter`结束，但是一行也可以输入多条命令。命令之间用`,`分隔，如果用`;`分隔或者结尾，则不会运行（不显示运算结果）。如果命令太长需要换行，可以在第一行末尾添加`...`，再按`Enter键`换行。在MATLAB命令后面可以用%添加注释。如下：

```matlab
>> a=1,b=2;c=...
4   %注释
```

命令窗的常用控制指令：

![](https://cdn.jsdelivr.net/gh/KKMJJ0721/Blog_pic/202509211555957.png)

命令行编辑常用按键：

​		![](https://cdn.jsdelivr.net/gh/KKMJJ0721/Blog_pic/202509211557959.png)



#### **3.2、Precedence rules（运算优先级）：**

- Left-to-right within a precedence group（组内优先级从左到右）

- Precedence groups are（highest first）（优先级分组）：
  1. Parenthesis    ()
  2. Power    ^
  3. Multiplication and division    *, /
  4. Addition and subtraction    +, -

**Exercise：**

![](https://cdn.jsdelivr.net/gh/KKMJJ0721/Blog_pic/202509202237277.png)

**Answer：**

```matlab
1、cos(sqrt((1+2+3+4)^3/5))
2、sin(sqrt(pi)) + log(tan(1))
3、2^(3.5 * 1.7)
4、exp(1)^sin(10)
```



#### **3.3、Variables：**

​		在matlab中使用Variables时不需要声明（不需要指定类型）；

​		默认我们使用的是double类型；

​		我们在**Workspace**中左键双击某一变量，可以查看该变量的类型；

​		使用`who`或`whos`能够查看我们的变量；



##### **3.3.1、calling priority（调用优先级）：**

按顺序排列为：

1. Variables（变量）
2. Built in Function（内置函数）
3. Subfunction
4. Private function：
   - Mex file
   - P file
   - M file							



##### **3.3.2、Format：**

​		该命令是控制命令行窗口中数值的显示格式（如：**小数位数、科学计数法、行距**等），但不会改变数值在内存中的实际存储精度，也不影响计算结果的准确性。

| 样式     | 作用                                                         | 示例（以 `pi` 为例）                                       |
| -------- | ------------------------------------------------------------ | ---------------------------------------------------------- |
| `short`  | 短固定小数格式（默认），保留 4 位小数                        | `3.1416`                                                   |
| `long`   | 长固定小数格式，`double` 保留 15 位小数，`single` 保留 7 位小数 | `3.141592653589793`                                        |
| `shortE` | 短科学计数法，保留 4 位小数 + 指数                           | `3.1416e+00`                                               |
| `longE`  | 长科学计数法，`double` 保留 15 位小数 + 指数，`single` 保留 7 位小数 + 指数 | `3.141592653589793e+00`                                    |
| `shortG` | 自动选择 “短固定小数” 或 “短科学计数法”（取更紧凑的形式），共 5 位有效数字 | `3.1416`（固定小数更紧凑）；`3.1416e+05`（科学计数更紧凑） |
| `longG`  | 自动选择 “长固定小数” 或 “长科学计数法”，共 15 位有效数字（`double`）或 7 位（`single`） | `3.141592653589793`；`3.1415927e+00`（`single` 类型）      |
| `bank`   | 银行格式，保留 2 位小数（常用于财务场景）                    | `3.14`                                                     |
| `hex`    | 十六进制格式（仅对整数 / 实数有效）                          | `400921FB54442D18`（`pi` 的十六进制表示）                  |
| `rat`    | 分数格式（近似表示）                                         | `355/113`（`pi` 的近似分数）                               |
| `+`      | 正负号格式，正數显 `+`、负數显 `-`、零显空格                 | `+3.1416`                                                  |

| 样式      | 作用                                                       |
| --------- | ---------------------------------------------------------- |
| `compact` | 紧凑行距（默认），减少输出中的空行，让更多内容显示在屏幕上 |
| `loose`   | 宽松行距，数值间显示更多空行，便于阅读                     |

附上代码：

```matlab
% 示例1：不同数值格式对比
x = pi;  % 定义变量 pi

format short;   disp(x);  % 输出：3.1416（短固定小数）
format long;    disp(x);  % 输出：3.141592653589793（长固定小数）
format shortE;  disp(x);  % 输出：3.1416e+00（短科学计数法）
format bank;    disp(x);  % 输出：3.14（银行格式，2位小数）
format rat;     disp(x);  % 输出：355/113（近似分数）

% 示例2：控制行距
A = magic(3);  % 生成3×3幻方矩阵

format compact; disp(A);  % 紧凑行距，矩阵行之间空行少
format loose;   disp(A);  % 宽松行距，矩阵行之间空行多

% 示例3：还原默认格式
format default;  % 还原为默认格式（short + compact）
disp(x);         % 输出：3.1416
```

**Exercise：**

![](https://cdn.jsdelivr.net/gh/KKMJJ0721/Blog_pic/202509211632721.png)

**Answer：**

```
format rat
3/13 + 4/14 + 5/15

1
0.849816849816850
```

> **注：format的设置会影响后续所有命令行输出，直到再次修改格式或关闭 MATLAB。**

> **注：我们不能使用Key world作为变量来使用；**





#### **3.4、Array (Vector  and  Matrix)：**

- Row vector（行矩阵）：

​		a = [1 2 3 4]

- Column vector（列矩阵）：

​		b = [1; 2; 3; 4]

经过上面两种表达，我们知道，每行的元素用**space**分开，使用**；**可以进行换行；

##### **3.4.1、Array  Indexing（索引）：**

在向量中：我们可以用该Variables的名字加上括号，括号内部写上数字，即可查找，如下：

```matlab
a = [1 2 3 4]
a(2)

% 可查找该向量中的第二个元素的值
```

但在一个Matrix里，我们使用上面的方法要注意其索引（先从列开始，然后到下一列），如：

```matlab
A = [1 2 3;
	 4 5 6;
	 7 8 9]
A(2)   %该值为4
A(4)   %该值为2
```

除去上面那种方法，我们还有其他方法来查找，如下：

```matlab
A([1 3 5])
A([1 3; 1 3])
A(3,2)
A([1 3], [1 2])
```

现在我们来简单讲一下：

1、用向量 \([1,3,5]\) 提取 “第 1、3、5 个元素”，结果为行向量。

2、用 2×2 矩阵作为索引，提取对应位置的元素，并组织成与索引矩阵同形状的矩阵，结果也为2×2的矩阵。

以上面的A矩阵为例，此处得到的为：
$$
\begin{bmatrix}
1 & 7\\
1 & 7\\ 
\end{bmatrix}
$$

3、提取 “第 3 行，第 2 列” 的元素。

4、该方法为分别对行与列取，如此处取1，3行，1，2列，提取行与列交叉处的元素，结果为2乘2的矩阵，如下：
$$
\begin{bmatrix}
1 & 2\\
7 & 8\\ 
\end{bmatrix}
$$


##### **3.4.2、Replacing Entries（替换）：**

![](https://cdn.jsdelivr.net/gh/KKMJJ0721/Blog_pic/202509221503904.png)

```matlab
A(2) = [91] 
```

使用上面的代码我们可以将矩阵中某一位的数值进行修改；

​		我们在上一小节（索引）中有讲到对一个矩阵里的元素进行查找，同样的我们查找后在后面加上一个 “=” ，并且后面加上一个向量or矩阵，即可对选中的部分进行修改；



##### **3.4.3、Colon Operator（等差级数）：**

在我们写矩阵or向量的时候，可能某一行比较长，这时我们使用下面这种方法会比较方便，快捷，如下：

```matlab
A = [1:100]
```

能帮我们快速生成一个向量，长度为100；可看下图：

![](https://cdn.jsdelivr.net/gh/KKMJJ0721/Blog_pic/202509221541985.png)

![](https://cdn.jsdelivr.net/gh/KKMJJ0721/Blog_pic/202509221601124.png)

我们也可以用这种来创建一个矩阵，如下：

![](https://cdn.jsdelivr.net/gh/KKMJJ0721/Blog_pic/202509221607409.png)

































